<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stream Player</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  </head>
  <body style="background-color: transparent; margin: 0; padding: 0">
    <!-- Video Player -->
    <video id="video" controls style="width: 100%; height: auto;"></video>

    <script>
      // ID Video Element
      var video = document.getElementById('video');

      // Ganti dengan URL M3U8 stream Anda
      var videoSrc = 'https://idpd330-n2004xr.tail47ced6.ts.net/show/show1.m3u8';

      // Hls.js support untuk browser yang tidak mendukung HLS
      if (Hls.isSupported()) {
        var hls = new Hls();  // Buat instansi Hls.js
        hls.loadSource(videoSrc);  // Muat video stream
        hls.attachMedia(video);  // Pasangkan Hls.js dengan elemen video

        hls.on(Hls.Events.ERROR, function(event, data) {
          console.error("Error event: ", data);
        });

        hls.on(Hls.Events.MANIFEST_PARSED, function(event, data) {
          console.log("Manifest parsed: ", data);
        });
      }
      // Jika browser mendukung HLS secara native (misal Safari)
      else if (video.canPlayType('application/vnd.apple.mpegurl')) {
        video.src = videoSrc; // Gunakan langsung sumber HLS
      }

      video.addEventListener('pause', function() {
        // Cek jika video ter-pause lebih dari 2 detik
        setTimeout(function() {
          if (video.paused) {
            video.play(); // Mulai video jika masih ter-pause
          }
        }, 2000); // Sesuaikan delay (2 detik) jika perlu
      });
    </script>
  </body>
</html>
